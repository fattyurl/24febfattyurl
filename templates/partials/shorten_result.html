{% if errors %}
<div class="bg-red-500/10 border border-red-500/20 rounded-xl p-4 text-left">
    <p class="text-red-400 font-medium font-body"><i class="fa-solid fa-circle-exclamation mr-2"></i>Oops!</p>
    {% for field, error_list in errors.items %}
        {% for error in error_list %}
            <p class="text-red-400/80 text-sm mt-1 font-body">{{ error }}</p>
        {% endfor %}
    {% endfor %}
</div>
{% elif link %}
<div class="bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-5 text-left">
    <p class="text-emerald-400 font-medium mb-3 font-body"><i class="fa-solid fa-check-circle mr-2"></i>Link shortened!</p>
    <div class="flex items-center gap-3 bg-zinc-800/80 rounded-lg border border-zinc-700/50 p-3">
        <a href="{{ link.get_short_url }}" target="_blank" class="text-lime-400 font-semibold text-lg flex-1 truncate hover:text-lime-300 font-body">
            {{ link.get_short_url }}
        </a>
        <button onclick="copyToClipboard('{{ link.get_short_url }}', this)"
                class="bg-lime-400 text-zinc-900 px-4 py-2 rounded-lg text-sm font-bold hover:bg-lime-300 transition-colors whitespace-nowrap cursor-pointer font-body">
            <i class="fa-solid fa-copy mr-1"></i>Copy
        </button>
        <a href="{% url 'generate_qr' %}?url={{ link.get_short_url }}&format=png"
           class="bg-zinc-700 text-zinc-300 px-4 py-2 rounded-lg text-sm font-medium hover:bg-zinc-600 transition-colors whitespace-nowrap font-body">
            <i class="fa-solid fa-qrcode mr-1"></i>QR
        </a>
    </div>
    {% if not is_authenticated %}
    <p class="text-sm text-zinc-400 mt-3 font-body">
        <i class="fa-solid fa-user-plus mr-1"></i>
        <a href="{% url 'account_signup' %}" class="text-lime-400 hover:text-lime-300 font-medium">Create a free account</a>
        to save your links and see full analytics.
    </p>
    {% endif %}
</div>
{% endif %}
