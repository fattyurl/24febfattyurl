{% if errors %}
<div class="bg-red-50 border border-red-200 rounded-xl p-4 text-left">
    <p class="text-red-700 font-medium"><i class="fa-solid fa-circle-exclamation mr-2"></i>Oops!</p>
    {% for field, error_list in errors.items %}
        {% for error in error_list %}
            <p class="text-red-600 text-sm mt-1">{{ error }}</p>
        {% endfor %}
    {% endfor %}
</div>
{% elif link %}
<div class="bg-green-50 border border-green-200 rounded-xl p-5 text-left">
    <p class="text-green-700 font-medium mb-3"><i class="fa-solid fa-check-circle mr-2"></i>Link shortened!</p>
    <div class="flex items-center gap-3 bg-white rounded-lg border border-gray-200 p-3">
        <a href="{{ link.get_short_url }}" target="_blank" class="text-indigo-600 font-semibold text-lg flex-1 truncate hover:underline">
            {{ link.get_short_url }}
        </a>
        <button onclick="copyToClipboard('{{ link.get_short_url }}', this)"
                class="bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors whitespace-nowrap">
            <i class="fa-solid fa-copy mr-1"></i>Copy
        </button>
        <a href="{% url 'generate_qr' %}?url={{ link.get_short_url }}&format=png"
           class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors whitespace-nowrap">
            <i class="fa-solid fa-qrcode mr-1"></i>QR
        </a>
    </div>
    {% if not is_authenticated %}
    <p class="text-sm text-gray-500 mt-3">
        <i class="fa-solid fa-user-plus mr-1"></i>
        <a href="{% url 'account_signup' %}" class="text-indigo-600 hover:underline font-medium">Create a free account</a>
        to save your links and see full analytics.
    </p>
    {% endif %}
</div>
{% endif %}
